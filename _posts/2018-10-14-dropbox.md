---
layout: post
title: A closer look at dropbox
tag: dropbox, architecture, BGP, load balancing
author: Olivier Bonaventure
---

[Dropbox](https://dropbox.com) is a very popular file sharing service. Many users rely on its infrastructure to store large files, perform backups or share files. Like other commercial services such as Apple's iCloud or Microsoft's OneDrive, Dropbox uses a proprietary protocol to exchange information between client applications and its servers. The most detailed description of Dropbox's protocol was published in [Inside Dropbox: Understanding Personal Cloud Storage Services](https://www.ict-mplane.eu/sites/default/files/public/publications/211p481.pdf). This paper appeared in 2012 and it is unfortunately very likely that Dropbox's protocols and architecture have evolved since then.

Some of the authors of the 2012 paper have recently published another study of personal cloud services. [Personal Cloud Storage
Benchmarks and Comparison](https://iris.polito.it/retrieve/handle/11583/2603583/149996/TCC_Personal_cloud.pdf) proposes a benchmarking methodology that compares 11 cloud storage services. The results presented in this recent paper shown that their performance can differ a lot. Samknows also compared three personal cloud services in a recent [blog post](https://blog.samknows.com/beyond-speed-tests-benchmarking-dropbox-google-and-microsoft-298300b34873). In this case the objective was to use the cloud services as a way to benchmark Internet access links.

The bandwidth available on the Internet access link, especially for home users, is one of the factors that influences the performance of personal cloud storage services. The companies that provide such services have optimised their protocols and their architecture to optimise their performance or reduce their operating costs. For example, Dropbox initially used Amazon Web Services to host the files of its users. However, as the storage requirements grew, their AWS bill exploded and they [recently decided to build their own infrastructure](https://www.bloomberg.com/gadfly/articles/2018-03-01/dropbox-s-best-move-was-breaking-up-with-amazon-s-cloud). While many small cloud services use AWS and other public cloud offerings to hosts their services, larger companies tend to build their own infrastructure to better control its performance and its costs. Outside these companies, little is known about the architecture of such services. In a recent and very detailed blog post, [Dropbox traffic infrastructure: Edge network](https://blogs.dropbox.com/tech/2018/10/dropbox-traffic-infrastructure-edge-network/), Oleg Guba and Alexey Ivanov describe the edge infrastructure of dropbox. Few descriptions of the architecture of large commercial services provide this level of details. A must read for those who want to better understand the internal architecture of personal cloud storage services. 